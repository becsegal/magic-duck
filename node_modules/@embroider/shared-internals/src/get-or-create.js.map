{"version":3,"file":"get-or-create.js","sourceRoot":"","sources":["get-or-create.ts"],"names":[],"mappings":";;;AAKA,SAAgB,WAAW,CAAO,GAAsB,EAAE,GAAM,EAAE,SAAwB;IACxF,IAAI,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC1B,IAAI,CAAC,MAAM,EAAE;QACX,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;QACxB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;KACtB;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAPD,kCAOC","sourcesContent":["interface AbstractMap<K, V> {\n  get(key: K): V | undefined;\n  set(key: K, value: V): void;\n}\n\nexport function getOrCreate<K, V>(map: AbstractMap<K, V>, key: K, construct: (key: K) => V): V {\n  let result = map.get(key);\n  if (!result) {\n    result = construct(key);\n    map.set(key, result);\n  }\n  return result;\n}\n"]}