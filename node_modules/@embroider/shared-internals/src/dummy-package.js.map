{"version":3,"file":"dummy-package.js","sourceRoot":"","sources":["dummy-package.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,wDAAgC;AAEhC,2DAA6C;AAC7C,iEAAyC;AAEzC,8EAA8E;AAC9E,qDAAqD;AACrD,MAAqB,YAAa,SAAQ,iBAAO;IAC/C,YAAY,IAAY,EAAU,WAAoB,EAAE,YAA0B;QAChF,KAAK,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,CAAC;QADA,gBAAW,GAAX,WAAW,CAAS;IAEtD,CAAC;IAGD,IAAc,mBAAmB;QAC/B,IAAI,GAAG,GAAG,IAAA,mBAAS,EAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAClD,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;QACnB,OAAO,GAAG,CAAC;IACb,CAAC;IAGD,IAAI,iBAAiB;QACnB,IAAI,IAAI,GAAG,KAAK,CAAC,iBAAiB,CAAC;QACnC,IAAI,CAAC,IAAI,EAAE;YACT,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;SAClB;QACD,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAClD,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAfC;IADC,IAAA,4BAAO,GAAE;uDAKT;AAGD;IADC,IAAA,4BAAO,GAAE;qDAQT;AApBH,+BAqBC","sourcesContent":["import Package from './package';\nimport PackageCache from './package-cache';\nimport { Memoize } from 'typescript-memoize';\nimport cloneDeep from 'lodash/cloneDeep';\n\n// A specialized Package that represents a Dummy App (the app that comes along\n// with an addon for purposes of testing that addon).\nexport default class DummyPackage extends Package {\n  constructor(root: string, private owningAddon: Package, packageCache: PackageCache) {\n    super(root, packageCache, true);\n  }\n\n  @Memoize()\n  protected get internalPackageJSON() {\n    let pkg = cloneDeep(this.owningAddon.packageJSON);\n    pkg.name = 'dummy';\n    return pkg;\n  }\n\n  @Memoize()\n  get nonResolvableDeps(): Map<string, Package> {\n    let deps = super.nonResolvableDeps;\n    if (!deps) {\n      deps = new Map();\n    }\n    deps.set(this.owningAddon.name, this.owningAddon);\n    return deps;\n  }\n}\n"]}